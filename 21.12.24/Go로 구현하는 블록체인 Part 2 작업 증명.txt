[Go로 구현하는 블록체인] Part 2 작업 증명

서론

이전 파트에서 블록체인 데이터베이스의 핵심인 매우 간단한 데이터 구조를 만들어보았다. 
그리고 각 블록을 이전 블록에 연결함으로써 체인에 블록을 추가할 수 있도록 만들었다.
하지만 우리가 구현한 블록체인 구현체에는 심각한 결함이 하나 있다
바로 체인에 새 블록을 추가하기가 쉬우며 비용이 낮다는 것이다. 
블록체인과 비트코인의 핵심은 새 블록을 추가하는 작업이 어렵다는 것이다.
이번 파트에서는 이 결함을 개선해보도록 하자.

작업증명

블록체인의 핵심 아이디어는 데이터를 추가하기 위해선 어떤 어려운 작업을 수행해야 한다는 것이다. 
이 작업이 블록체인을 안전하고 일관성있게 만들어준다. 
또한 이 어려운 작업을 수행한 참여자에게는 보상이 주어진다 (사람들이 채굴을 통해 코인을 얻는 방식이다).

이 메커니즘은 실생활과 아주 흡사한데 보상을 받으며 생계를 유지하기위해 열심히 일을 하는것과 유사하다. 
블록체인에서 네트워크의 일부 참여자들 (채굴자)은 네트워크를 유지하기 위해 블록을 생성하고 이에 대한 보상을 받는다. 
이 작업의 결과로 블록은 블록체인에 안전하게 추가되어 전체 블록체인 데이터베이스의 안정성을 유지한다. 
작업을 마친 사람이 이 작업을 증명해야 한다는것에 주목할 필요가 있다.

“어려운 작업을 수행하고 이를 증명한다"의 전체 메커니즘을 작업 증명 (Proof of Work, PoW)이라고 부른다. 
이는 엄청난 컴퓨팅 파워를 요구하기 때문에 작업이 무거우며 고성능 컴퓨터에서조차 빠르게 수행하기 어렵다. 
또한, 블록 생성 속도를 시간당 약 6 블록으로 유지하기 위해 작업의 난이도는 시간이 지남에따라 증가한다. 
비트코인에서 이 작업의 목표는 특정 요구사항을 충족하는 블록의 해시를 찾는 것이다. 
그리고 이 해시가 증명 역할을 하기 때문에 증명을 찾는 작업이 실질적인 작업이다.

마지막으로 주의해야할 점이 있다. 
작업 증명 알고리즘은 작업 수행은 어렵지만 증명 검증은 쉬워야한다는 요구사항을 충족해야한다. 
증명은 대개 다른 사람에게 넘어가기 때문에 검증 작업에 많은 시간이 소요되서는 안된다.

해싱

해싱이란 어떤 특정한 데이터에 대한 해시를 얻는 과정이다. 
해시란 계산된 데이터의 고유한 표현값이다. 
해시 함수는 임의의 길이를 가진 데이터를 입력으로 받아 고정된 길이의 해시값을 생성하는 함수이다. 
다음은 해싱의 핵심 기능이다.

1. 원본 데이터는 해시에서 복원할 수 없다. 즉, 해싱은 암호화가 아니다.
2. 특정 데이터는 단 하나의 해시값만 가지며 해시는 고유하다.
3. 입력 데이터에서 하나의 바이트만 수정해도 완전히 다른 해시값이 생성된다.


해시 함수는 데이터의 일관성을 검사하는데 널리 사용된다. 
일부 소프트웨어 제공 업체는 소프트웨어 패키지와 함께 체크섬을 퍼블리싱한다. 
파일을 다운로드한 후 이를 해싱 함수에 넣어 생성한 해시를 소프트웨어 개발자가 제공한 해시와 비교할 수 있다.














